services:
  pixagram:
    image: mkysel/pixagram:testnet-x86
    container_name: pixagram_container

    entrypoint:
      - /bin/bash
      - -lc
      - ulimit -n 1048576; exec /home/hived_admin/docker_entrypoint.sh /home/hived/bin/hived

    ports:
      - "7777:7777"

    volumes:
      - ./pixagram:/home/hived/datadir
      # make sure this maps to DATADIR in the imageâ€™s ENV

    # (optional) if the entrypoint script relies on environment vars:
    environment:
      - DATADIR=/home/hived/datadir
      - SHM_DIR=/home/hived/datadir/blockchain
      - HTTP_PORT=7777
      - HIVED_UID=1000
    ulimits:
      nofile:
        soft: 1048576
        hard: 1048576